<div class="pousadas-page-container">

    <aside class="filters-sidebar">
        <h2>Nova Busca e Filtros</h2>
        
        <mat-form-field appearance="outline" class="full-width">
            <mat-label>Destino (Cidade, Estado)</mat-label>
            <input matInput placeholder="Ex: Búzios, RJ" [(ngModel)]="cidadeBusca">
            <mat-icon matSuffix>search</mat-icon>
        </mat-form-field>

        <button 
            mat-raised-button 
            color="primary" 
            class="full-width apply-search"
            (click)="aplicarNovaBusca()" >
            Buscar
        </button>

        <mat-divider style="margin-top: 15px; margin-bottom: 15px;"></mat-divider>

        <h3>Filtros Adicionais</h3>
        </aside>

    <main class="results-main">
        <h1>Pousadas Encontradas em "{{ cidadeBusca ? cidadeBusca : 'Todo o Brasil' }}"</h1>
        
        <p class="results-count">Mostrando {{ pousadasEncontradas.length }} resultados disponíveis.</p>

        <div class="pousadas-list">
            
            <mat-card class="pousada-card mat-elevation-z2" *ngFor="let pousada of pousadasEncontradas">
                
                <mat-card-header>
                    <mat-card-title>{{ pousada.nome }}</mat-card-title> 
                </mat-card-header>
                
                <mat-card-content>
                    <p class="location">{{ pousada.cidade }}, {{ pousada.estado }} - {{ pousada.endereco }}</p>
                    
                    <p class="description">{{ pousada.descricao | slice:0:100 }}...</p> 
                                        <p class="price">{{  pousada.preco  }} / Noite</p>
                </mat-card-content>

                <mat-card-actions align="end">
                    <button mat-raised-button color="primary" [routerLink]="['/home/pousadas', pousada.id]">
                        Ver Detalhes e Reservar
                    </button>
                </mat-card-actions>

            </mat-card>
            
            <div *ngIf="pousadasEncontradas.length === 0" class="no-results-message">
                <mat-icon color="warn">info</mat-icon>
                <h2>Nenhuma pousada encontrada.</h2>
                <p>Tente refinar sua busca ou verificar a grafia.</p>
            </div>
            
        </div>
    </main>
</div>